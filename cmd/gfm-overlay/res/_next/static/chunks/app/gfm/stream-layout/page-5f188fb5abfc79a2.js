(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{2040:function(e,t,n){"use strict";var i,r;e.exports=(null==(i=n.g.process)?void 0:i.env)&&"object"==typeof(null==(r=n.g.process)?void 0:r.env)?n.g.process:n(6003)},6803:function(e,t,n){Promise.resolve().then(n.bind(n,6526))},3016:function(e,t,n){var i=n(2040);n(5449);var r=n(6006),s=r&&"object"==typeof r&&"default"in r?r:{default:r};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=void 0!==i&&i.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},h=function(){function e(e){var t=void 0===e?{}:e,n=t.name,i=void 0===n?"stylesheet":n,r=t.optimizeForSpeed,s=void 0===r?l:r;c(a(i),"`name` must be a string"),this._name=i,this._deletedRulePlaceholder="#"+i+"-deleted-rule____{}",c("boolean"==typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o=document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,n=e.prototype;return n.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},n.isOptimizeForSpeed=function(){return this._optimizeForSpeed},n.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(l||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},n.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},n.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},n.insertRule=function(e,t){if(c(a(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(t){return l||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var i=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,i))}return this._rulesCount++},n.replaceRule=function(e,t){if(this._optimizeForSpeed){var n=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(i){l||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var i=this._tags[e];c(i,"old rule at index `"+e+"` not found"),i.textContent=t}return e},n.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},n.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},n.cssRules=function(){var e=this;return this._tags.reduce(function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},n.makeStyleTag=function(e,t,n){t&&c(a(t),"makeStyleTag accepts only strings as second parameter");var i=document.createElement("style");this._nonce&&i.setAttribute("nonce",this._nonce),i.type="text/css",i.setAttribute("data-"+e,""),t&&i.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return n?r.insertBefore(i,n):r.appendChild(i),i},o(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),t&&o(e,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},d={};function f(e,t){if(!t)return"jsx-"+e;var n=String(t),i=e+n;return d[i]||(d[i]="jsx-"+u(e+"-"+n)),d[i]}function p(e,t){var n=e+t;return d[n]||(d[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[n]}var m=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,i=void 0===n?null:n,r=t.optimizeForSpeed,s=void 0!==r&&r;this._sheet=i||new h({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),i&&"boolean"==typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),i=n.styleId,r=n.rules;if(i in this._instancesCounts){this._instancesCounts[i]+=1;return}var s=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[i]=s,this._instancesCounts[i]=1},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var i=this._fromServer&&this._fromServer[n];i?(i.parentNode.removeChild(i),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,n;return t=this.cssRules(),void 0===(n=e)&&(n={}),t.map(function(e){var t=e[0],i=e[1];return s.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:n.nonce?n.nonce:void 0,dangerouslySetInnerHTML:{__html:i}})})},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,i=e.id;if(n){var r=f(i,n);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return p(r,e)}):[p(r,t)]}}return{styleId:f(i),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),x=r.createContext(null);x.displayName="StyleSheetContext";var g=s.default.useInsertionEffect||s.default.useLayoutEffect,y=new m;function v(e){var t=y||r.useContext(x);return t&&g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}v.dynamic=function(e){return e.map(function(e){return f(e[0],e[1])}).join(" ")},t.style=v},1230:function(e,t,n){"use strict";e.exports=n(3016).style},300:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});let i={title:"string",width:"number",height:"number","run-token":"string","config-refresh":"number","timer-refresh":"number","hide-timer":"boolean"}},6526:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var i=n(9268);n(2777);var r=n(6006),s=n(6008),o=n(1230),l=n.n(o);function a(e){let t=(0,r.useRef)(null),{children:n,heightSetter:s,widthSetter:o}=e;return(0,r.useLayoutEffect)(()=>{if(!t.current){console.error("text.current not set!");return}o&&o(t.current.scrollWidth),s&&s(t.current.scrollHeight)},[n,s,o]),(0,i.jsx)("div",{style:{visibility:"hidden",position:"absolute",top:0,left:0},children:(0,i.jsxs)("div",{ref:t,children:[" ",n," "]})})}function h(e){let[t,n]=(0,r.useState)(0),[s,o]=(0,r.useState)(0),h=t>e.widthPx,c=e.separator?"\xa0".concat(e.separator,"\xa0"):"\xa0",u=t+(h?s:0),d=u/e.scrollSpeed,f="scroll-".concat(u,"-").concat(e.scrollSpeed);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a,{widthSetter:n,children:(0,i.jsx)("p",{className:l().dynamic([["faa4adbab0439d7b",[e.widthPx,e.heightPx,e.heightPx,e.heightPx,h?"":"display: inline-flex;",h?"":"justify-content: center;",h?"":"flex-direction: row;",e.heightPx,e.heightPx,h?"animation-duration: "+d+"s;":"",h?"animation-name: "+f+";":"",h?"animation-iteration-count: infinite;":"",h?"animation-timing-function: linear;":"",f,u]]]),children:e.children})}),(0,i.jsx)(a,{widthSetter:o,children:(0,i.jsx)("p",{className:l().dynamic([["faa4adbab0439d7b",[e.widthPx,e.heightPx,e.heightPx,e.heightPx,h?"":"display: inline-flex;",h?"":"justify-content: center;",h?"":"flex-direction: row;",e.heightPx,e.heightPx,h?"animation-duration: "+d+"s;":"",h?"animation-name: "+f+";":"",h?"animation-iteration-count: infinite;":"",h?"animation-timing-function: linear;":"",f,u]]]),children:c})}),(0,i.jsx)("div",{className:l().dynamic([["faa4adbab0439d7b",[e.widthPx,e.heightPx,e.heightPx,e.heightPx,h?"":"display: inline-flex;",h?"":"justify-content: center;",h?"":"flex-direction: row;",e.heightPx,e.heightPx,h?"animation-duration: "+d+"s;":"",h?"animation-name: "+f+";":"",h?"animation-iteration-count: infinite;":"",h?"animation-timing-function: linear;":"",f,u]]])+" scrolling_div",children:(0,i.jsxs)("p",{className:l().dynamic([["faa4adbab0439d7b",[e.widthPx,e.heightPx,e.heightPx,e.heightPx,h?"":"display: inline-flex;",h?"":"justify-content: center;",h?"":"flex-direction: row;",e.heightPx,e.heightPx,h?"animation-duration: "+d+"s;":"",h?"animation-name: "+f+";":"",h?"animation-iteration-count: infinite;":"",h?"animation-timing-function: linear;":"",f,u]]])+" scrolling_p",children:[e.children,h?c:null,h?e.children:null]})}),(0,i.jsx)(l(),{id:"faa4adbab0439d7b",dynamic:[e.widthPx,e.heightPx,e.heightPx,e.heightPx,h?"":"display: inline-flex;",h?"":"justify-content: center;",h?"":"flex-direction: row;",e.heightPx,e.heightPx,h?"animation-duration: "+d+"s;":"",h?"animation-name: "+f+";":"",h?"animation-iteration-count: infinite;":"",h?"animation-timing-function: linear;":"",f,u],children:"div.scrolling_div.__jsx-style-dynamic-selector{width:".concat(e.widthPx,"px;height:").concat(e.heightPx,"px;max-height:").concat(e.heightPx,"px;line-height:").concat(e.heightPx,"px;").concat(h?"":"display: inline-flex;","\n					").concat(h?"":"justify-content: center;","\n					").concat(h?"":"flex-direction: row;","\n				}p.scrolling_p.__jsx-style-dynamic-selector{max-height:").concat(e.heightPx,"px;line-height:").concat(e.heightPx,"px;overflow:hidden;white-space:nowrap;").concat(h?"animation-duration: "+d+"s;":"","\n					").concat(h?"animation-name: "+f+";":"","\n					").concat(h?"animation-iteration-count: infinite;":"","\n					").concat(h?"animation-timing-function: linear;":"","\n				}@-webkit-keyframes ").concat(f,"{from{text-indent:0px}to{text-indent:-").concat(u,"px}}@-moz-keyframes ").concat(f,"{from{text-indent:0px}to{text-indent:-").concat(u,"px}}@-o-keyframes ").concat(f,"{from{text-indent:0px}to{text-indent:-").concat(u,"px}}@keyframes ").concat(f,"{from{text-indent:0px}to{text-indent:-").concat(u,"px}}")})]})}function c(e,t){return t.current&&t.current.offsetWidth>e?t.current.offsetWidth:e}function u(e){let t,n,s;let[o,l]=(0,r.useState)(0),a=(0,r.useRef)(null),h=(0,r.useRef)(null),u=(0,r.useRef)(null),d=(0,r.useRef)(null),f=(0,r.useRef)(null),p=(0,r.useRef)(null),m=(0,r.useRef)(null),x=(0,r.useRef)(null),g=(0,r.useRef)(null),y=(0,r.useRef)(null),v=(0,r.useRef)(null),_=(0,r.useRef)(null);(0,r.useLayoutEffect)(()=>{let t=0;t=c(0,a),t=c(t,h),t=c(t,u),t=c(t,d),t=c(t,f),t=c(t,p),t=c(t,m),t=c(t,x),t=c(t,g),t=c(t,y),e.showSign&&(t=c(t,v),t=c(t,_)),l(t)},[e.showSign]);let S=e.timeMs,j="+";S<0&&(S*=-1,j="-");let w=S%1e3,b=(S=Math.trunc(S/1e3))%60,P=(S=Math.trunc(S/60))%60,T=(S=Math.trunc(S/60))%24;e.showMs&&(t=w%10,n=Math.trunc(w%100/10),s=Math.trunc(w/100));let R={textAlign:"center",lineHeight:e.heightPx+"px"},k={...R,display:"inline-block",width:o+"px"},M=T>0||e.showHour,E=T>=10||!e.hideHourTens,F=M||P>0||!e.hideMin,C=M||P>=10||!e.hideMinTens;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{visibility:"hidden",position:"absolute"},children:[(0,i.jsx)("span",{style:R,ref:a,children:"0"}),(0,i.jsx)("span",{style:R,ref:h,children:"1"}),(0,i.jsx)("span",{style:R,ref:u,children:"2"}),(0,i.jsx)("span",{style:R,ref:d,children:"3"}),(0,i.jsx)("span",{style:R,ref:f,children:"4"}),(0,i.jsx)("span",{style:R,ref:p,children:"5"}),(0,i.jsx)("span",{style:R,ref:m,children:"6"}),(0,i.jsx)("span",{style:R,ref:x,children:"7"}),(0,i.jsx)("span",{style:R,ref:g,children:"8"}),(0,i.jsx)("span",{style:R,ref:y,children:"9"}),(0,i.jsx)("span",{style:R,ref:v,children:"-"}),(0,i.jsx)("span",{style:R,ref:_,children:"+"})]}),(0,i.jsxs)("div",{style:{width:e.widthPx+"px",height:e.heightPx+"px",display:"inline-flex",justifyContent:"center"},children:[e.showSign?(0,i.jsx)("span",{style:k,children:j}):null,M?(0,i.jsxs)(i.Fragment,{children:[E?(0,i.jsx)("span",{style:k,children:Math.trunc(T/10)}):null,(0,i.jsx)("span",{style:k,children:T%10}),(0,i.jsx)("span",{style:R,children:":"})]}):null,F?(0,i.jsxs)(i.Fragment,{children:[C?(0,i.jsx)("span",{style:k,children:Math.trunc(P/10)}):null,(0,i.jsx)("span",{style:k,children:P%10}),(0,i.jsx)("span",{style:R,children:":"})]}):null,(0,i.jsx)("span",{style:k,children:Math.trunc(b/10)}),(0,i.jsx)("span",{style:k,children:b%10}),e.showMs?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{style:R,children:"."}),(0,i.jsx)("span",{style:k,children:s}),(0,i.jsx)("span",{style:k,children:n}),(0,i.jsx)("span",{style:k,children:t})]}):null]})]})}function d(e){let t,n;let r=Math.floor(.45*e.widthPx),s=Math.floor(.25*e.widthPx),o=e.widthPx-s-r;return e.skipped||(e.finished&&e.end&&e.done?t=e.done-e.end:e.end&&e.currentTime&&(t=e.currentTime-e.end)<-3e4&&(t=void 0)),e.done?n=e.done:e.end&&(n=e.end),(0,i.jsxs)("div",{className:e.className,style:{width:e.widthPx,height:e.heightPx,display:"inline-flex"},children:[(0,i.jsx)(h,{scrollSpeed:50,widthPx:r,heightPx:e.heightPx,separator:"--",children:e.name}),t?(0,i.jsx)(u,{timeMs:t,widthPx:s,heightPx:e.heightPx,showHour:!1,hideHourTens:!0,hideMin:!0,hideMinTens:!0,showMs:6e4>Math.abs(t),showSign:!0}):(0,i.jsx)("div",{style:{width:s,height:e.heightPx,display:"flex",flexDirection:"column",alignItems:"center",placeContent:"space-evenly"},children:e.skipped?(0,i.jsx)("p",{children:"skipped"}):null}),n?(0,i.jsx)(u,{timeMs:n,widthPx:o,heightPx:e.heightPx,showHour:!1,hideHourTens:!0,hideMin:!0,showMs:n<6e4}):(0,i.jsx)("div",{style:{width:o,height:e.heightPx,display:"flex",flexDirection:"column",alignItems:"center",placeContent:"space-evenly"},children:(0,i.jsx)("p",{children:"n/a"})})]})}function f(e){let t=(0,r.useRef)(null),{segments:n,current:s,widthPx:o,heightPx:l,entryHeightPx:a,currentTime:h,currentClass:c}=e,u=n.length,[f,p,m]=(0,r.useMemo)(()=>{let e=[],t=[],i=[];for(let r=0;r<n.length;r++){let o=n[r];r<s?e.push(o):r==s?t.push(o):i.push(o)}return[e,t,i]},[n,s]);return(0,r.useLayoutEffect)(()=>{if(null==t.current)return;let e=0;if(u*a>l){let n=l/a,i=Math.min(Math.max(0,s),t.current.childElementCount-1);e=(-Math.floor(n/2)+i)*a}t.current.scrollTo({top:e,behavior:"smooth"})},[u,s,a,l]),(0,i.jsxs)("div",{style:{width:o,height:l,overflow:"hidden"},ref:t,children:[f.map(e=>(0,r.createElement)(d,{...e,widthPx:o,heightPx:a,key:"done-"+e.name,finished:!0})),p.map(e=>(0,r.createElement)(d,{...e,widthPx:o,heightPx:a,key:"cur-"+e.name,currentTime:h,className:c})),m.map(e=>(0,r.createElement)(d,{...e,widthPx:o,heightPx:a,key:"next-"+e.name}))]})}var p=n(4791),m=n(1202),x=n(7990),g=n(300);function y(e){return(0,i.jsx)("div",{className:"bg-block block-outter",style:{width:e.width+12,height:e.height+12},children:(0,i.jsx)("div",{className:"bg-block block-inner",style:{position:"relative",left:4,top:4,width:e.width,height:e.height},children:e.children})})}function v(e){return(0,i.jsx)(y,{...e,children:(0,i.jsx)("div",{id:"title",className:"m5x7 outlined",children:(0,i.jsx)(h,{scrollSpeed:100,widthPx:e.width,heightPx:e.height,separator:"--",children:e.children})})})}function _(e){return(0,i.jsx)(y,{width:e.widthPx,height:e.heightPx,children:(0,i.jsx)("div",{id:"timer",className:"m5x7 outlined",children:(0,i.jsx)(u,{widthPx:e.widthPx,heightPx:e.heightPx,timeMs:e.timeMs,showHour:!0,showMs:!0})})})}function S(e){return(0,i.jsx)(y,{width:e.widthPx,height:e.heightPx,children:(0,i.jsx)("div",{id:"splits",className:"m5x7 outlined",children:(0,i.jsx)(f,{...e})})})}function j(){var e,t,n;let[o,l]=(0,r.useState)(0),[a,h]=(0,r.useState)(0),[c,u]=(0,r.useState)(960),[d,f]=(0,r.useState)(540),[y,j]=(0,r.useState)("It's a mystery \uD83D\uDC7B"),[w,b]=(0,r.useState)(0),[P,T]=(0,r.useState)(""),[R,k]=(0,r.useState)(""),[M,E]=(0,r.useState)(0),[F,C]=(0,r.useState)(null),[z,N]=(0,r.useState)(2500),[O,I]=(0,r.useState)(117),A=(0,s.useSearchParams)(),L=(0,p.Z)(A.get("min_title_height"),100),H=(0,p.Z)(A.get("sidebar_percentage"),.25),Z=(0,p.Z)(A.get("split_entry_height"),48),B=null!==(e=A.get("config_url"))&&void 0!==e?e:"/ram_store/config",D=null!==(t=A.get("run_url"))&&void 0!==t?t:"/run",W=null!==(n=A.get("timer_url"))&&void 0!==n?n:"/timer",q=o*H,U=(0,r.useCallback)(()=>{(0,x.Z)(B,g.r,void 0,e=>{var t;if(!(e.title&&e.width&&e.height)){console.error("incomplete data");return}j(e.title),u(e.width),f(e.height),e["config-refresh"]&&N(e["config-refresh"]),e["timer-refresh"]&&I(e["timer-refresh"]);let n=null!==(t=e["run-token"])&&void 0!==t?t:"";k(n),n?T("".concat(D,"/timer/").concat(n)):(T(W),C(null)),e["hide-timer"]&&T("")})},[B,W,D,j,u,f,T,C,k]);(0,r.useEffect)(()=>{let e=setInterval(U,z);return()=>{clearInterval(e)}},[U,z]);let $=(0,r.useCallback)(()=>{P&&((0,m.Z)(P,void 0,e=>{b(e.Time)}),R&&(0,m.Z)("".concat(D,"/splits/").concat(R),void 0,e=>{let t=[];for(let i=0;i<e.Splits.length;i++){var n;let r=e.Splits[i],s=null!==(n=e.Best.at(i))&&void 0!==n?n:e.Splits[i],o={name:r.Name};s.BestTime&&s.BestTime>0&&(o.best=s.BestTime),s.EndTime&&s.EndTime>0&&(o.end=s.EndTime),r.EndTime&&r.EndTime>0&&(o.done=r.EndTime),void 0!==s.StartTime&&s.StartTime>=0&&(o.start=s.StartTime),o.skipped=r.Skipped,t.push(o)}C(t),E(e.Current)}))},[D,P,R,E]);(0,r.useEffect)(()=>{if(!P)return;let e=setInterval($,O);return()=>{clearInterval(e)}},[P,$,O]);let Y=(0,r.useCallback)(()=>{l(window.innerWidth),h(window.innerHeight)},[l,h]);(0,r.useLayoutEffect)(()=>(Y(),window.addEventListener("resize",Y),()=>{window.removeEventListener("resize",Y)}),[Y]);let G=q,J=c,K=d;c&&d&&o&&a&&(q+(J=Math.floor(c*((K=a)/d)))<o?G=o-J:K=d*((J=o-q)/c)),J=Math.floor(J),K=Math.floor(K),G=o-J;let Q={active:a-K>=L,height:Math.max(a-K,0)};return(0,i.jsxs)("div",{id:"layout",children:[(0,i.jsx)("div",{id:"game",style:{position:"absolute",top:0,left:G,width:J,height:K}}),(0,i.jsxs)("div",{id:"sidebar",className:"center",style:{position:"absolute",top:0,left:0,width:G,height:a},children:[Q.active?null:(0,i.jsx)(v,{width:Math.floor(.9*G),height:L,children:y}),F?(0,i.jsx)(S,{segments:F,current:M,widthPx:Math.floor(.9*G),heightPx:Math.floor(.5*a),entryHeightPx:Z,currentTime:w,currentClass:"cur-split"}):null,P?(0,i.jsx)(_,{widthPx:256,heightPx:72,timeMs:w,showHour:!0,showMs:!0}):null]}),(0,i.jsx)("div",{id:"bottombar",className:"center",style:{position:"absolute",top:K,left:G,width:J,height:Q.height},children:Q.active?(0,i.jsx)(v,{width:Math.floor(.75*J),height:Math.floor(.75*Q.height),children:y}):null})]})}},4791:function(e,t,n){"use strict";function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,n=parseFloat(e+"");return n||t}n.d(t,{Z:function(){return i}})},1202:function(e,t,n){"use strict";function i(e,t,n,i){let r={...t,cache:"no-store",headers:{"content-type":"application/json"}};fetch(e,r).then(e=>{if(!e.ok){console.error(e.statusText),null==i||i(e.status);return}200==e.status&&n?e.json().then(e=>{n(e)}):204==e.status&&n&&n()})}n.d(t,{Z:function(){return i}})},7990:function(e,t,n){"use strict";function i(e,t,n,i,r){let s={...n,cache:"no-store",headers:{"content-type":"multipart/form-data"}};fetch(e,s).then(e=>{if(!e.ok){console.error(e.statusText),null==r||r(e.status);return}200==e.status&&i?e.formData().then(e=>{let n=Object.fromEntries(Object.entries(t).map(t=>{let[n,i]=t,r=e.get(n);if(void 0===r)return[n,void 0];switch(i){case"string":return[n,r+""];case"number":return[n,parseInt(r+"")];case"boolean":return[n,!!r]}}).filter(e=>!!e));i(n)}):204==e.status&&i&&i()})}n.d(t,{Z:function(){return i}})},2777:function(){},5449:function(){},6003:function(e){!function(){var t={229:function(e){var t,n,i,r=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a=[],h=!1,c=-1;function u(){h&&i&&(h=!1,i.length?a=i.concat(a):c=-1,a.length&&d())}function d(){if(!h){var e=l(u);h=!0;for(var t=a.length;t;){for(i=a,a=[];++c<t;)i&&i[c].run();c=-1,t=a.length}i=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new f(e,t)),1!==a.length||h||l(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},o=!0;try{t[e](s,s.exports,i),o=!1}finally{o&&delete n[e]}return s.exports}i.ab="//";var r=i(229);e.exports=r}()},3177:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(6006),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,n){var i,s={},h=null,c=null;for(i in void 0!==n&&(h=""+n),void 0!==t.key&&(h=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,i)&&!a.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:r,type:e,key:h,ref:c,props:s,_owner:l.current}}t.Fragment=s,t.jsx=h,t.jsxs=h},9268:function(e,t,n){"use strict";e.exports=n(3177)},6008:function(e,t,n){e.exports=n(3027)}},function(e){e.O(0,[667,488,744],function(){return e(e.s=6803)}),_N_E=e.O()}]);