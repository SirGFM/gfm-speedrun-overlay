(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{7204:function(e,t,n){Promise.resolve().then(n.bind(n,5812))},300:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});let r={title:"string",width:"number",height:"number","run-token":"string","config-refresh":"number","timer-refresh":"number","hide-timer":"boolean"}},5812:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(9268);n(8490);var s=n(6008),l=n(6006),u=n(1202),i=n(7990),a=n(300);function o(){var e;let t=(0,s.useSearchParams)(),n=null!==(e=t.get("timer_url"))&&void 0!==e?e:"/timer",i=(0,l.useCallback)(e=>{let t={method:"POST",body:JSON.stringify({Action:e})};(0,u.Z)(n,t)},[n]),a=(0,l.useCallback)(()=>{i("stop")},[i]),o=(0,l.useCallback)(()=>{i("start")},[i]),c=(0,l.useCallback)(()=>{i("reset")},[i]);return(0,r.jsxs)("div",{className:"fill-line vertical",children:[(0,r.jsxs)("div",{className:"fill-line",children:[(0,r.jsx)("input",{type:"button",value:"Stop",onClick:a}),(0,r.jsx)("input",{type:"button",value:"Start",onClick:o})]}),(0,r.jsx)("div",{className:"fill-line",children:(0,r.jsx)("input",{type:"button",value:"Reset",onClick:c})})]})}function c(e){var t;let{token:n}=e,i=(0,s.useSearchParams)(),a=null!==(t=i.get("run_url"))&&void 0!==t?t:"/run",o="".concat(a,"/").concat(n),c=(0,l.useCallback)(e=>{(0,u.Z)("".concat(o,"/").concat(e),{method:"POST"})},[o]),f=(0,l.useCallback)(()=>{c("start")},[c]),d=(0,l.useCallback)(()=>{c("split")},[c]),h=(0,l.useCallback)(()=>{c("undo")},[c]),p=(0,l.useCallback)(()=>{c("save")},[c]),v=(0,l.useCallback)(()=>{c("reset")},[c]);return(0,r.jsxs)("div",{className:"fill-line vertical",children:[(0,r.jsxs)("div",{className:"fill-line",children:[(0,r.jsx)("input",{type:"button",value:"Start",onClick:f}),(0,r.jsx)("input",{type:"button",value:"Split",onClick:d}),(0,r.jsx)("input",{type:"button",value:"Undo",onClick:h})]}),(0,r.jsxs)("div",{className:"fill-line",children:[(0,r.jsx)("input",{type:"button",value:"Save",onClick:p}),(0,r.jsx)("input",{type:"button",value:"Reset",onClick:v})]})]})}function f(){var e;let[t,n]=(0,l.useState)(2500),[u,f]=(0,l.useState)(""),[d,h]=(0,l.useState)(!1),p=(0,s.useSearchParams)(),v=null!==(e=p.get("config_url"))&&void 0!==e?e:"/ram_store/config",b=(0,l.useCallback)(()=>{(0,i.Z)(v,a.r,void 0,e=>{var t;e["config-refresh"]&&n(e["config-refresh"]);let r=null!==(t=e["run-token"])&&void 0!==t?t:"";f(r),h(!!e["hide-timer"])})},[v,n,f]);return(0,l.useEffect)(()=>{let e=setInterval(b,t);return()=>{clearInterval(e)}},[b,t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:" Dashboard "}),d?(0,r.jsx)("p",{children:"Nothing to do here..."}):u?(0,r.jsx)(c,{token:u}):(0,r.jsx)(o,{})]})}},1202:function(e,t,n){"use strict";function r(e,t,n,r){let s={...t,cache:"no-store",headers:{"content-type":"application/json"}};fetch(e,s).then(e=>{if(!e.ok){console.error(e.statusText),null==r||r(e.status);return}200==e.status&&n?e.json().then(e=>{n(e)}):204==e.status&&n&&n()})}n.d(t,{Z:function(){return r}})},7990:function(e,t,n){"use strict";function r(e,t,n,r,s){let l={...n,cache:"no-store",headers:{"content-type":"multipart/form-data"}};fetch(e,l).then(e=>{if(!e.ok){console.error(e.statusText),null==s||s(e.status);return}200==e.status&&r?e.formData().then(e=>{let n=Object.fromEntries(Object.entries(t).map(t=>{let[n,r]=t,s=e.get(n);if(void 0===s)return[n,void 0];switch(r){case"string":return[n,s+""];case"number":return[n,parseInt(s+"")];case"boolean":return[n,!!s]}}).filter(e=>!!e));r(n)}):204==e.status&&r&&r()})}n.d(t,{Z:function(){return r}})},8490:function(){},3177:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(6006),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,n){var r,l={},o=null,c=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(c=t.ref),t)u.call(t,r)&&!a.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:s,type:e,key:o,ref:c,props:l,_owner:i.current}}t.Fragment=l,t.jsx=o,t.jsxs=o},9268:function(e,t,n){"use strict";e.exports=n(3177)},6008:function(e,t,n){e.exports=n(3027)}},function(e){e.O(0,[667,488,744],function(){return e(e.s=7204)}),_N_E=e.O()}]);